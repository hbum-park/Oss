<!-- 8장 병합과 충돌
    01. 병합 -->

## 01. 병합

: 브랜치를 생성하는 목적은 원본 코드에 영향을 주지 않고 분리하여 개발하기 위해서 입니다. 독립된 브랜치에서 개발 작업이 끝나면 다시 원본 브랜치에 작업한 결과를 반영해야 합니다. 분리된 브랜치를 한 브랜치로 합치는 작업을 <b> 병합(합치기)</b> 라고 합니다. <br>

---

<br>

### 01 - 01. 하나씩 직접 비교하는 수동 병합

수동으로 병합하려면 양쪽 파일을 일일이 비교하며 바뀐 점을 찾아 작용해야합니다. 하지만 오류 없이 코드를 병합하는 것은 간단 하지 않습니다. 몇 줄 안 되는 코드라면 몰라도 실제 개발할 때는 수천 줄 이상이기 때문에 두 코드를 하나로 합치는 것은 매우 힘든 작업입니다. <br>

소스 코드가 2개보다 많다면 원본 소스 A를 복제하여 B를 수정하고, B를 복제하여 C도 수정하고 있습니다. 요즘은 협업 떄문에 다수 개발자가 각각 새로운 기능들을 만들고, 365일 24시간 분업화된 상태에서 생긴 버그는 여러 개발자가 수정합니다. 이처럼 여러 개발자와 코드를 공유하면서 변경된 소스 코드를 병합하는 것은 매우 복잡합니다.

![8-1](https://user-images.githubusercontent.com/111054617/200331890-41a1bf3a-684c-489f-8927-436aee3e110b.png)

수정이 완료되면 B는 원본 소스 A에 수정 내역을 반영하는 작업을 해야 하고, C또한 B를 반영하여 수정된 원본 소스 A에 또다시 수정 작업을 반영해야 합니다. 병합하려면 코드의 변경된 시점을 기억해야하고, 변경된 시점을 기준으로 순차적으로 병합 처리 하는 것이 좀더 쉽습니다.
변경된 시간 순서를 따르지 않고 병합하면 코드가 엉켜 잘못 동작할 확률이 높다는 것을 명심해야합니다.

<br>

### 01 - 02. 깃으로 자동 병합

깃의 자동 병합은 원본을 기준으로 두 파일의 변경 이력을 비교합니다. 변경된 파일 내용이 발견 되면 자동으로 수정된 코드 내용을 병합합니다.<br>

깃의 병합은 <b>브랜치</b>를 기준으로 합니다. 브랜치는 같은 저장소 내에서 서로 독립적으로 작업을 분리한 영역입니다. 분리된 각각의 브랜치에서 수정된 사항을 하나의 브랜치로 병합하고, 병합하고자 하는 브랜치는 같은 로컬 저장소에 있어야 가능 합니다.

<br>

### 01 - 03. 병합 방식

깃은 병합을 위해 두 가지 기본적인 알고리즘 방식을 제공합니다.

- Fast-Forward 병합
- 3-way 병합
  <br>

두가지의 방식이 있는데 자세한 내용은 뒤에 챕터에서 자세히 다뤄보도록 하겠습니다.

두 방식으로 실습하기 전에 미리 별도의 저장소를 생성해 두겠습니다.

```bash
$ cd 실습폴더
mkdir gitstudy08 --- 새 폴더 만들기
cd gitstudy08 --- 만든 폴더로 이동

infoh@DESKTOP MINGW64 /e/gitstudy08
$ git init --- 저장소 초기화
Initialized empty Git repository in E:/gitstudy08/.git/

그리고 indext.htm 파일을 만들어 코드를 입력하고 저장합니다.

infoh@DESKTOP MINGW64 /e/gitstudy08 (master)
$ code index.htm --- VS code 실행
```

index.htm

```bash
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Page Title</title>
</head>
<body>
    <h1>hello GIT world!</h1>
</body>
</html>
```

파일을 등록하고 첫 번째 커밋을 합니다.

```bash
infoh@DESKTOP MINGW64 /e/gitstudy08 (master)
$ git add . --- 전체 파일을 등록. 추적 상태

infoh@DESKTOP MINGW64 /e/gitstudy08 (master)
$ git commit -m "first" --- 커밋
```

이 과정을 그림으로 표현하면 다음과 같습니다.

<br>

![8-2](https://user-images.githubusercontent.com/111054617/200347510-e7b11281-147e-434d-a62e-e8d311d21f4e.png)

앞에서 병합하려면 모든 브랜치가 단일 저장소에 있어야 한다고 했습니다. 같은 저장소의 브랜치를 병합할 수 있다는 점을 잊지 마세요.
