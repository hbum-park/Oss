<!-- 6장 브랜치 
    10. 브랜치 전송
    11. 브랜치 삭제-->

## 07. 브랜치 전송
<hr>


<br>

### 07.01 브랜치 푸시
: 깃의 푸시 작업은 로컬 저장소의 파일들을 원격 저장소로 전송합니다. 파일뿐만 아니라 브랜치 정보와 커밋까지 모두 전송합니다.
<br>

처음으로 로컬 저장소에 새로운 원격 저장소가 등록되면 다음과 같이 push 명령어를 사용할 때 오류 메세지가 출력됩니다.

![image](https://blog.kakaocdn.net/dn/b2SGEB/btrGq0feRZf/GbnBLEZ1PhSl2mQIYEhKWK/img.png)

<br>

처음에는 커밋과 브랜치를 푸시하는 데 업스트림 설정이 필요합니다. <b>원격 저장소 연결만으로 업스트림이 자동으로 설정되지는 않습니다.</b> 이는 깃이 원격 저장소의 어느 브랜치에 어떻게 푸시해야 할지 모르기 때문입니다.

처음에는 다음과 같이 수동으로 트래킹 브랜치와 업스트림 설정을 해야 합니다.
```bash
$ git push --set-upstream origin master
```

<br>

### 07.02 브랜치 페치
리모트 브랜치 페치는 일반적인 커밋 페치와 동일합니다. 리모트 브랜치를 페치한다고 해서 자동으로 로컬 저장소에 새로운 브랜치가 생성되는 것이 아닙니다. 페치 동작은 원격 저장소에서 리모트 브랜치 내용을 내려받기만 할 뿐이지 자동으로 병합하지는 않기 때문입니다.
<br>

리모트 브랜치가 페치된다면 깃은 단순히 <b>원격저장소별칭/브랜치</b>포인터만 생성합니다. 페치된 커밋들을 새로운 로컬 브랜치로 반영하려면 병합 명령을 실행해야 합니다.
```bash
$ git merge [원격저장소별칭/브랜치이름]
```

<br>

페치된 브랜치를 병합하지 않고 테스트만 진행시 임시 브랜치를 생성하거나 직접 체크아웃 할 수 있습니다.
```bash
$ git checkout -b [임시브랜치명] origin/[브랜치명]
```

<br>

## 07-1 브랜치 삭제
브랜치 삭제는 해당 브랜치 내용과 커밋을 모두 삭제하는 것 입니다. 브랜치는 삭제하기 전 알아둬야 할 사항이 있는데 그것은 <b>"현재 자신이 있는 브랜치는 삭제할 수 없다."</b> 입니다. 현재 자신이 있는 브랜치를 삭제하려면 다른 브랜치나 master브랜치로 잠시 이동해야 합니다.

![image](https://user-images.githubusercontent.com/88806404/194796463-208a380b-10cb-4bc7-b95a-24e18066a84e.png)

위 사진처럼 현재 자신이 있는 브랜치를 삭제하려면 오류메세지가 나옵니다.

<br>

### 07-1.1 일반적인 삭제 방법
일반적으로 브랜치를 삭제할 땐 -d 옵션을 사용합니다.
```bash
$ git branch -d [브랜치명]
```
<b>-d 옵션은 스테이지 상태가 깨끗할 때만 삭제를 허용</b>합니다. 워킹 디렉터리에 작업한 기록이 있거나 add 명령어로 스테이지의 인덱스가 변경된 상태라면 삭제하지 않습니다. 또 병합되지 않은 브랜치는 -d 옵션으로 삭제 할 수 없습니다.

<br>

### 07-1.2 강제로 삭제하는 방법
워킹 디렉토리 또는 스테이지에 추가 커밋 작업이 남아 있다면 삭제할 수 없는데 이때는 강제로 삭제해야 합니다.

![image](https://thebook.io/img/080212/344169.png) -> 커밋이 있는 브랜치 삭제시

커밋이 있어도 강제로 브랜치를 삭제하려면 -D 옵션을 사용합니다.
```bash
$ git branch -D [브랜치명]
```

<br>

### 07-1.3 소스트리에서 삭제하는 방법
소스트리에서도 브랜치를 삭제할 수 있습니다. 먼저 소스트리의 왼쪽에서 브랜치 목록 중 삭제하고 싶은 것을 선택하고 브랜치를 선택한 상태에서 마우스 오른쪽 버튼을 누르고 feature 삭제를 선택합니다.
![image](https://thebook.io/img/080212/0624_fmt.jpeg)

<br>

### 07-1.04 리모트 브랜치를 삭제하는 방법
원격 브랜치를 삭제하려면 먼저 <b>삭제 명령을 푸시</b>해야 합니다.
```bash
$ git push origin --delete [리모트브랜치명]
```
<img width="600" alt="image" src="https://user-images.githubusercontent.com/88806404/194797457-c7a1027a-b829-4b1c-ab50-edf43429c080.png">
원격 저장소의 브랜치를 삭제하면 리모트 브랜치에 기록된 커밋도 모두 삭제됩니다. 따라서 함께 사용하는 브랜치라면 신중하게 삭제하는 것이 좋습니다.

<br>
<hr>
<br>

### 마지막으로
브랜치 개념과 여러 브랜치를 이동하고 작업하는 방법들을 알아보았습니다. 브랜치는 기존 코드를 가상으로 분리합니다. 격리된 브랜치는 상호 간섭 없이 별개의 작업을 수행 할 수 있으며 새로운 프로제그로 발전시켜 나아갈 때 매우 유용합니다.